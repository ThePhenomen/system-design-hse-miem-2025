#### Обязательные компоненты

| Компонент | Обоснование | Реализация |
|-----------|-------------|------------|
| Load balancer | Распределение трафика между инстансами сервисов. Без него горизонтальное масштабирование невозможно. |  HAProxy - популярный балансировщик, Envoy - мощный балансировщик |
| IDP | Авторизация пользователей для участия в чате/заказа музыки | Keycloak - стандарт SSO в наше время |
| Object Store | Хранение сообщение и вложений пользователь в чате | Minio - популярное s3 хранилище, понятное для использования и поддержки |
| Реляционная БД | Хранение информации о музыки, авторах, жанрах и т.д. | PostgreSQL - популярное решение в наше время (после ухода Oracle) |
| Брокер очередей | Реализует асинхронное взаимодействие между внутренними сервисами и сервисом отправки уведомлений | RabbitMQ - популярное решение, менее требовательное по ресурсам, более просто по настройке по сравнению с Kafka |
| Кэш | Хранение временной информации для снижения нагрузки на сервис очереди музыки постоянными запросами | Redis - популярное kv хранилище |
| Мониторинг | Получение метрик о состоянии сервисов и их визуализация  | Prometheus + Grafana - стандарт |
| Платформа для оркестрации сервисов | Требуется поддержка автомасштабирования, удобства деплоя | K8s - можно использовать готовую платформу (например Nova) |

#### Рекомендуемые компоненты

| Компонент | Обоснование | Реализация |
|-----------|-------------|------------|
| Service mesh | Доп observability, mtls, retry | Istio для данной системы избыточно, лучше использовать Cilium Service Mesh, более прост для внедрения, имеет встроенный инструмент для отслеживания трейсов Hubble (сам mesh не имеет поддержки федерации, Cluster Mesh в бете, но для данной системы это не требуется) |
| CI/CD | Удобство развертывания сервисов | Gitlab как Git репозиторий + ArgoCD для автоматизации деплоя сервисов |
| Логирование | Централизованный сбор и визуализация логов | Opensearch + Opensearch Dashboards |
